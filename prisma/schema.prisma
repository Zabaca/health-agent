generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  id        String    @id @default(cuid())
  email     String    @unique
  password  String
  createdAt DateTime  @default(now())
  releases  Release[]
}

model Release {
  id        String   @id @default(cuid())
  userId    String
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Patient Info
  firstName      String
  middleName     String?
  lastName       String
  dateOfBirth    String
  mailingAddress String
  phoneNumber    String
  email          String
  ssn            String

  // Authorization
  authExpirationDate  String?
  authExpirationEvent String?
  authPrintedName     String
  authSignatureImage  String?
  authDate            String
  authAgentName       String?

  providers Provider[]
}

model Provider {
  id        String  @id @default(cuid())
  releaseId String
  release   Release @relation(fields: [releaseId], references: [id], onDelete: Cascade)
  order     Int     @default(0)

  // Provider Info
  providerName    String
  providerType    String
  patientMemberId String?
  groupId         String?
  planName        String?
  phone           String?
  fax             String?
  providerEmail   String?
  address         String?
  membershipIdFront String?
  membershipIdBack  String?

  // Record Request
  historyPhysical        Boolean @default(false)
  diagnosticResults      Boolean @default(false)
  treatmentProcedure     Boolean @default(false)
  prescriptionMedication Boolean @default(false)
  imagingRadiology       Boolean @default(false)
  dischargeSummaries     Boolean @default(false)
  specificRecords        Boolean @default(false)
  specificRecordsDesc    String?
  dateRangeFrom          String?
  dateRangeTo            String?
  allAvailableDates      Boolean @default(false)
  purpose                String?
  purposeOther           String?
}
